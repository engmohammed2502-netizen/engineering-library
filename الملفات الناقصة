# إنشاء مجلد مؤقت للملفات
mkdir ~/mongo-install && cd ~/mongo-install

# تحميل الحزم الأساسية (نسخة 8.0 المخصصة لـ Ubuntu 24.04 Noble)
wget https://repo.mongodb.org/apt/ubuntu/dists/noble/mongodb-org/8.0/multiverse/binary-amd64/mongodb-org-server_8.0.0_amd64.deb
wget https://repo.mongodb.org/apt/ubuntu/dists/noble/mongodb-org/8.0/multiverse/binary-amd64/mongodb-org-database-tools-extra_8.0.0_amd64.deb
wget https://repo.mongodb.org/apt/ubuntu/dists/noble/mongodb-org/8.0/multiverse/binary-amd64/mongodb-org-mongos_8.0.0_amd64.deb
wget https://repo.mongodb.org/apt/ubuntu/dists/noble/mongodb-org/8.0/multiverse/binary-amd64/mongodb-database-tools_100.10.0_amd64.deb

sudo dpkg -i *.deb

wget https://downloads.mongodb.com/compass/mongodb-mongosh_2.3.1_amd64.deb
sudo dpkg -i mongodb-mongosh_2.3.1_amd64.deb

sudo systemctl daemon-reload
sudo systemctl start mongod
sudo systemctl enable mongod



echo "deb [ arch=amd64,arm64 ] https://repo.mongodb.org/apt/ubuntu focal/mongodb-org/7.0 multiverse" | sudo tee /etc/apt/sources.list.d/mongodb-org-7.0.list





# تشغيل الخدمة
sudo systemctl start mongod

# تمكين التشغيل التلقائي عند الإقلاع
sudo systemctl enable mongod

# التحقق من حالة الخدمة
sudo systemctl status mongod






# تثبيت PM2 عالمياً
sudo npm install -g pm2




# حذف أي مستودع سابق
sudo rm /etc/apt/sources.list.d/mongodb*.list

# إضافة مستودع MongoDB 6.0
echo "deb [arch=amd64,arm64] https://repo.mongodb.org/apt/ubuntu noble/mongodb-org/6.0 multiverse" | sudo tee /etc/apt/sources.list.d/mongodb-org-6.0.list

# إضافة المفتاح
wget -qO - https://pgp.mongodb.com/server-6.0.asc | sudo apt-key add -

sudo apt update
sudo apt install -y mongodb-org

